<!DOCTYPE html>
<html lang="en">

<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-MM424CEGCJ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-MM424CEGCJ');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, maximum-scale=1.0, user-scalable=yes" />
    <title>Radio Banter - Band in Glasgow, Scotland</title>
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="Radio Banter" />
    <link rel="manifest" href="/site.webmanifest" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Frank+Ruhl+Libre:wght@300..900&display=swap" rel="stylesheet">
<link href="//cdn-images.mailchimp.com/embedcode/classic-061523.css" rel="stylesheet" type="text/css">

    <style>

            #mc_embed_signup {

        width: 100%;
    }

        body {
            background-color: #ffffff;
            color: #000000;
            font-family: "Frank Ruhl Libre", "Frank Ruehl CLM", serif;
            margin: 0;
          
            padding: 0;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            min-height: 100vh;
        }

        .content-wrapper {
            width: 95%;
            max-width: 1000px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            padding-top: 20px;
            padding-bottom: 20px;
        }

        .split-stage {
            display: flex;
            flex-direction: column;
            width: 100%;
            border: none;
            border-radius: 8px;
            overflow: hidden;
            background-color: #fff;
            margin-bottom: 20px;
        }

        .stage-panel {
            flex: 1;
            padding: 0;
            position: relative;
            min-height: auto;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
        }

        .stage-left {
            border-bottom: none;
            justify-content: center;
            min-height: 300px;
        }

        .stage-right {
            background-color: #fff;
            height: auto;
            overflow: visible;
        }

        @media (min-width: 768px) {
            .split-stage {
                flex-direction: row;
                align-items: stretch;
                height: 550px;
            }

            .stage-panel {
                height: 100%;
                min-height: 0;
            }

            .stage-left {
                border-bottom: none;
                border-right: none;
                width: 50%;
                overflow: hidden;
            }

            .stage-right {
                width: 50%;
                height: 100%;
                overflow-y: auto;
            }
        }

        @media (max-width: 767px) {
            .content-wrapper {
                width: 100%;
                padding-top: 0;
                gap: 0;
            }

            .split-stage {
                border-radius: 0;
                margin-bottom: 0;
            }

            .text-content-wrapper,
            .player-controls-container,
            .playlist,
            .paypal-button-container {
                padding-left: 20px;
                padding-right: 20px;
                margin-bottom: 20px;
            }

            #introContent {
                padding-top: 20px;
            }
        }

        .panel-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            display: block;
            background-color: #fff;
        }

        .text-content-wrapper {
            padding: 40px;
            text-align: left;
            width: 100%;
            box-sizing: border-box;
            margin: auto;
        }

        .text-content-wrapper h2 {
            margin-top: 0;
            font-size:medium;
        }

        .text-content-wrapper p {
            line-height: 1.6;
            margin-bottom: 1.5em;
        }

        .hidden {
            display: none !important;
        }

        .player-controls-container {
            width: 100%;
            border: none;
            border-radius: 8px;
            box-sizing: border-box;
            text-align: center;
            margin-top: 10px;
        }

        .controls {
            margin: 10px 0;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        button {
            background-color: silver;
            border: none;
            color: #000000;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 20px;
            line-height: 1;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        button:hover {
            background-color: #000000;
            color: #ffffff;
        }

        .progress-wrapper {
            margin: 15px 0;
        }

        .progress-container {
            background: #e0e0e0;
            cursor: pointer;
            height: 8px;
            border-radius: 4px;
            position: relative;
        }

        .progress-bar {
            background: #000000;
            height: 100%;
            width: 0%;
            border-radius: 4px;
        }

        .time-display {
            font-size: 12px;
            margin-top: 5px;
        }

        .playlist {
            width: 100%;
        }

        .playlist ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
        }

        .playlist li {
            padding: 12px 8px;
            cursor: pointer;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .playlist li:last-child {
            border-bottom: none;
        }

        .playlist li:hover,
        .playlist li.active {
            background-color: #f0f0f0;
        }

        .playlist li span:last-child {
            padding-left: 10px;
            min-width: 40px;
            text-align: right;
        }

        .download-link {
            font-size: 12px;
            color: #000000;
            text-decoration: underline;
            margin-left: 10px;
            display: none;
        }

        .full-width-image {
            width: 100%;
            height: auto;
            display: block;
            border: none;
            border-radius: 8px;
        }

        .paypal-btn {
            background-color: #FFC439;
            color: #000000;
            border: none;
            border-radius: 24px;
            padding: 12px 30px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            transition: background 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .paypal-btn:hover {
            background-color: #F4BB37;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            color: #000;
        }

        .paypal-logo-svg {
            height: 20px;
            width: auto;
        }

        .paypal-button-container {
            width: 100%;
            text-align: left;
        }
    </style>
</head>

<body>
    <div class="content-wrapper">

        <div class="split-stage">
            <div class="stage-panel stage-left">
                <img src="lily/band-cover.jpg" alt="Album Cover" class="panel-image">
            </div>

            <div class="stage-panel stage-right">
                <div id="introContent" class="text-content-wrapper">
                    <h1 style="display:none">Radio Banter</h1>
                    <img src="RadioBanterCDText.png" style="max-width:100%;width:120px">
                    <p>
                        <strong>20251204</strong> Glasgow's Radio Banter debut album 'Radio Banter' now available on 10
                        track CD in card slip & sleeve wallet containing 20-page lyric booklet, illustrated by local
                        artist & poet <a href='https://www.instagram.com/painepoetry/' target="_blank">Lily Paine</a>.
                    </p>

                    <div class="paypal-button-container">
                        <form method="post" action="https://www.paypal.com/cgi-bin/webscr" class="paypal-button"
                            target="_blank">
                            <input name="business" type="hidden" value="pampthehorn@gmail.com">
                            <input name="cmd" type="hidden" value="_xclick">
                            <input name="item_name" type="hidden" value="Radio Banter - S/T CD">
                            <input name="amount" type="hidden" value="5.00">
                            <input name="currency_code" type="hidden" value="GBP">
                            <input name="shipping" type="hidden" value="3.00">
                            <input name="return" type="hidden" value="https://radiobanter.net">

                            <button type="submit" name="submit" class="paypal-btn">
                                Pre-order CD (£8 inc UK P&P)
                            </button>
                            <img alt="" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1"
                                border="0">
                        </form>
                    </div>

                    <p>
                        Engineered, mixed and mastered by <strong>Chris White</strong> (Nightshift) at Pillar Studio,
                        Glasgow Southside.
                    </p>
                    <p>
                        Please join us on <strong>Thursday 8th January at Sharmanka Puppet Theatre</strong>, Trongate,
                        Glasgow; we will perform live, and we will be joined by Lily Paine (poetry) and The Chop.
                        Tickets available
                        from <a
                            href="https://www.ticketsource.co.uk/sharmanka">https://www.ticketsource.co.uk/sharmanka</a>.
                    </p>
                    <p><a href="mailto:radiobanternet@gmail.com">radiobanternet@gmail.com</a>
                    </p>

                </div>
            </div>
        </div>



        <div class="player-controls-container">
            <div class="track-info" id="trackTitle"></div>

            <div class="controls">
                <button id="prevBtn" aria-label="Previous Track">&#9198;</button>
                <button id="playPauseBtn" aria-label="Play">&#9654;</button>
                <button id="nextBtn" aria-label="Next Track">&#9197;</button>
            </div>

            <div class="progress-wrapper">
                <div class="progress-container" id="progressContainer">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <div class="time-display" id="timeDisplay">0:00 / 0:00</div>
            </div>
        </div>

        <div class="playlist" id="playlist">
            <ul id="playlistList"></ul>
        </div>

        <div id="dynamicStage" class="split-stage">
            <div class="stage-panel stage-left">
                <img src="" alt="Track Artwork" id="trackArtImage" class="panel-image">
            </div>

            <div class="stage-panel stage-right" id="lyricsPanelScroll">

                <div id="lyricsContent" class="text-content-wrapper">
                    <div id="dynamicLyricsTitle"></div>
                    <div id="dynamicLyricsBody"></div>
                </div>

                <img src="" alt="Secondary Artwork" id="secondaryImage" class="panel-image hidden">
            </div>
        </div>

        <audio id="audioPlayer"></audio>

        <div style="display:none;">
            <div id="raw-lyrics-nature-nurture">
                <p>is it nature is it nurture<br>this funky feeling that funky beat<br>is it nature or is it
                    nurture<br>the reason for this rhythm in my feet<br>is it nature or is it nurture<br>people are so
                    angry in the street<br>is it nature or is it nurture<br>people are just voting with their feet</p>
                <p>don't be rude, don't be rude</p>
                <p>is it nature or is it nurture<br>to argue with your mother's point of view<br>is it nature or is it
                    nurture<br>to read beyond the headlines of the news</p>
                <p>part of me felt we done too much<br>part of me felt we never done enough</p>
            </div>
            <div id="raw-lyrics-growing-in-love">
                <p>Oh no what to do<br>i've gone and grown feelings for you<br>i'm gonna have to<br>water them now, keep
                    them fed<br>pull the weeds from, from their bed<br>give them sunshine, give them shade<br>use a
                    trowel, use a spade</p>
                <p>aw man it's every day<br>put my shoes on<br>and it starts to rain<br>let's see how it looks in an
                    hour</p>
                <p>it's not always<br>the shoots will find their way<br>it's not always<br>the shrubs will see the day
                </p>
                <p>oh no what to do<br>i've grown in love with you</p>
            </div>
            <div id="raw-lyrics-harsh-but-fair">
                <p>people tell me<br>because of my age<br>i should reign it in<br>i should pare it back<br>people tell
                    me people tell me people tell me</p>
                <p>to look out of the window<br>and what do you see<br>the war is still raging<br>there'll never be
                    peace</p>
            </div>
            <div id="raw-lyrics-richmond">
                <p>if we don't come off the gas that we emit<br>and all we do are these carbon offsets<br>is that really
                    us playing our part<br>is it wise to be so smart<br>if we don't just stop oil<br>the whole sea's
                    gang come to a boil<br>there'll be mammals washed up on our shores<br>children seeking refuge at our
                    doors<br>and they'll be asking why do we only get our bit<br>once you've taken all the good things
                    out of it</p>
                <p>if we don't stop ourselves<br>we don't leave anybody else<br>the chance to<br>the opportunity<br>not
                    to</p>
            </div>
            <div id="raw-lyrics-end-of-an-era">
                <p>oops nope well that’s unfortch’<br>i forgot to pack the propane torch<br>do you need a good bag from
                    the bakery<br>before telling us your tales of bravery<br>stories of old from oh so many years
                    ago<br>isn’t hindsight a wonderful thing<br>when one has found one’s flow</p>
                <p>the realms in which we are being<br>sometimes seeing is believing<br>yet, how can one quell this
                    emotional swell?<br>please pass the magic potion,<br>we can cancel out the spell<br>only time will
                    really tell<br>could this be<br>the end of an era?</p>
            </div>
            <div id="raw-lyrics-ghostie">
                <p>the moon lit a bed of freshly fell snow<br>my family slept as i made them soup by the
                    stove<br>someone's knockin on my door</p>
                <p>out there's a young man wearing old man's clothes<br>he says he lives here and my love is his<br>i
                    send him walking in the snow man</p>
                <p>i can't sleep so i go back outside<br>where did he come from, which way did he go<br>there are no
                    footprints in the snow</p>
            </div>
            <div id="raw-lyrics-doctor">
                <p>i feel so lazy doctor can you diagnose why<br>i'll sing anything i got til it gets me a line</p>
                <p>i feel so crazy lately are you loving me why<br>i'll do anything for you papa you gave me my life</p>
                <p>oh my god i am so tired<br>even though i have slept for 12 hours<br>often that is just what
                    happens<br>you oversleep and it makes you more tired<br>you oversleep and it makes you more tired
                </p>
                <p>jesus christ i am so hungry<br>gonna go home now i've spent all my money</p>
            </div>
            <div id="raw-lyrics-instrumental">
            </div>
            <div id="raw-lyrics-the-groove">
                <p>you've got to get in to the groove<br>that's the whole point of this song<br>this song is so
                    groovy<br>they're making it in to a movie</p>
                <p>so when i die<br>there will be stars<br>in the sky<br>when i die<br>you've got to get in to the
                    groove</p>
            </div>
            <div id="raw-lyrics-financial-crash">
                <p>it's all my fault<br>i took the decision<br>it's all because of me<br>it's my responsibility</p>
                <p>i need some inspiration<br>to make a meal<br>is there any point though<br>when all you want's a pie
                </p>
            </div>
        </div>


        <div class="text-content-wrapper">
            <p><em>Additional accordion (3), xaphoon (1&5), tongue drum (8) and penny whistle (9&10)
                    by Rob Alexander; trombone (1), guitar (5) and bongos (9) by Chris Wallace;
                    guitalele (6) and guitar (8) by Chris White.</em></p>
            <p><em>Recorded throughout July 2025 at Pillar Studio, Glasgow, Scotland</em></p>
            <p><em>Songs and music by Radio Banter </em></p>
            <p><em>Engineering, mixing and mastering by Chris White</em></p>
            <p><em>Artwork by Lily Payne</em></p>

            <p><strong>Radio Banter</strong> are <br /> Chris Wallace <em>Drums & Vocals</em> <br />Sephi Lock <em>Bass
                    guitar</em>
                <br />Rob Alexander <em>Vocals & Electric piano</em>
            </p>

            <img src="ril_live_shot.jpg" alt="Radio Banter Live" class="full-width-image">

            <p>Photograph of Radio Banter performing at Glad Cafe by <a
                    href='https://www.instagram.com/remain_in_light_/' target="_blank">Baz</a></p>
        </div>



<div id="mc_embed_signup">
    <form
        action="https://gmail.us15.list-manage.com/subscribe/post?u=7c63c18aba01af6bb7e677bc4&amp;id=b60110bcb4&amp;f_id=002c93e1f0"
        method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate"
        target="_blank">
        <div id="mc_embed_signup_scroll">

            <p>Please <strong>subscribe</strong> to our email list for once in a blue moon.</p>
            <div class="mc-field-group">
                <label for="mce-EMAIL">Email Address <span class="asterisk">*</span></label>
                <input type="email" name="EMAIL" class="required email" id="mce-EMAIL" required value="">
            </div>

            <div style="position: absolute; left: -5000px;" aria-hidden="true">
                <input type="text" name="b_7c63c18aba01af6bb7e677bc4_b60110bcb4" tabindex="-1" value="">
            </div>

            <div class="optionalParent">
                <div class="clear foot">
                    <input type="submit" name="subscribe" id="mc-embedded-subscribe" class="button" value="Subscribe">
                </div>
            </div>

        </div>
    </form>
</div>
        

    </div>




    <script>
        const mainTracks = [
            { title: "Nature nurture", duration: "4:45", src: "20250823masters/01 Nature Nurture.mp3", image: "lily/naturenurture.jpg", lyricsId: "raw-lyrics-nature-nurture" },
            { title: "Growing in love", duration: "3:29", src: "20250823masters/02 Growing in Love.mp3", image: "lily/growinginlove1.jpg", lyricsId: "raw-lyrics-growing-in-love" },
            { title: "Harsh but fair", duration: "3:05", src: "20250823masters/03 Harsh but Fair.mp3", image: "lily/harshbutfair.jpg", lyricsId: "raw-lyrics-harsh-but-fair" },
            { title: "Richmond", duration: "3:56", src: "20250823masters/04 Richmond.mp3", image: "lily/richmond.jpg", lyricsId: "raw-lyrics-richmond" },
            { title: "End of an era", duration: "2:35", src: "20250823masters/05 End of an Era.mp3", image: "lily/endofanera.jpg", lyricsId: "raw-lyrics-end-of-an-era" },
            { title: "Ghostie", duration: "2:23", src: "20250823masters/06 Ghosty.mp3", image: "lily/ghostie.jpg", lyricsId: "raw-lyrics-ghostie" },
            { title: "Doctor", duration: "2:39", src: "20250823masters/07 Doctor.mp3", image: "lily/doctor.jpg", lyricsId: "raw-lyrics-doctor" },
            { title: "Instrumental", duration: "2:40", src: "20250823masters/08 Instrumental.mp3", image: "lily/instrumental1.jpg", lyricsId: "raw-lyrics-instrumental" },
            { title: "The groove", duration: "3:00", src: "20250823masters/09 The Groove.mp3", image: "lily/thegroove.jpg", lyricsId: "raw-lyrics-the-groove" },
            { title: "Financial crash", duration: "2:37", src: "20250823masters/10 Financial Crash.mp3", image: "lily/financialcrash.jpg", lyricsId: "raw-lyrics-financial-crash" }
        ];

        let currentTrack = 0;
        let wakeLock = null;

        const audioPlayer = document.getElementById("audioPlayer");
        const playPauseBtn = document.getElementById("playPauseBtn");
        const playlistList = document.getElementById("playlistList");
        const progressBar = document.getElementById("progressBar");
        const progressContainer = document.getElementById("progressContainer");
        const timeDisplay = document.getElementById("timeDisplay");
        const trackTitleDisplay = document.getElementById("trackTitle");

        const dynamicStage = document.getElementById("dynamicStage");
        const trackArtImage = document.getElementById("trackArtImage");

        const lyricsPanelScroll = document.getElementById("lyricsPanelScroll");
        const lyricsContent = document.getElementById("lyricsContent");
        const secondaryImage = document.getElementById("secondaryImage");

        const dynamicLyricsTitle = document.getElementById("dynamicLyricsTitle");
        const dynamicLyricsBody = document.getElementById("dynamicLyricsBody");

        async function requestWakeLock() {
            if ('wakeLock' in navigator) {
                try {
                    wakeLock = await navigator.wakeLock.request('screen');
                } catch (err) {
                    console.error(`${err.name}, ${err.message}`);
                }
            }
        }

        function releaseWakeLock() {
            if (wakeLock) {
                wakeLock.release().then(() => { wakeLock = null; });
            }
        }


        function updateStageContent(trackIndex) {
            if (trackIndex === undefined) trackIndex = currentTrack;

            const track = mainTracks[trackIndex];

            if (track.title === "Instrumental") {
                trackArtImage.src = "lily/instrumental1.jpg";
            } else {
                trackArtImage.src = track.image;
            }

            if (track.title === "Instrumental") {
                lyricsContent.classList.add("hidden");
                secondaryImage.classList.remove("hidden");
                secondaryImage.src = "lily/instrumental2.jpg";
            } else {
                secondaryImage.classList.add("hidden");
                lyricsContent.classList.remove("hidden");

                dynamicLyricsTitle.innerHTML = `<h2>${track.title}</h2>`;
                const rawLyrics = document.getElementById(track.lyricsId);
                if (rawLyrics) {
                    dynamicLyricsBody.innerHTML = rawLyrics.innerHTML;
                } else {
                    dynamicLyricsBody.innerHTML = "<p>Lyrics not available.</p>";
                }
                lyricsPanelScroll.scrollTop = 0;
            }
        }

        function updatePlayerUI() {
            const isPlaying = !audioPlayer.paused;
            const track = mainTracks[currentTrack];

            trackTitleDisplay.textContent = (isPlaying ? '▶ ' : '▷ ') + 'Radio Banter - ' + track.title;

            const items = playlistList.getElementsByTagName("li");
            Array.from(items).forEach((item, index) => {
                const icon = item.querySelector(".play-icon");
                if (icon) {
                    if (index === currentTrack) {
                        item.classList.add("active");
                        icon.textContent = isPlaying ? "▶ " : "▷ ";
                    } else {
                        item.classList.remove("active");
                        icon.textContent = "▷ ";
                    }
                }
            });
        }

        function nextTrack() {
            const wasPlaying = !audioPlayer.paused;
            const nextIndex = (currentTrack + 1) % mainTracks.length;
            loadTrack(nextIndex);
            if (wasPlaying) {
                playTrack();
            }
        }

        function prevTrack() {
            const wasPlaying = !audioPlayer.paused;
            const prevIndex = (currentTrack - 1 + mainTracks.length) % mainTracks.length;
            loadTrack(prevIndex);
            if (wasPlaying) {
                playTrack();
            }
        }

        function loadTrack(index) {
            if (index >= 0 && index < mainTracks.length) {
                currentTrack = index;
                const track = mainTracks[index];
                audioPlayer.src = track.src;

                updateStageContent(currentTrack);

                audioPlayer.load();
                updatePlayerUI();
            }
        }

        function playTrack() {
            audioPlayer.play();
            playPauseBtn.innerHTML = "&#10074;&#10074;";
            requestWakeLock();
            updatePlayerUI();
        }

        function pauseTrack() {
            audioPlayer.pause();
            playPauseBtn.innerHTML = "&#9654;";
            releaseWakeLock();
            updatePlayerUI();
        }

        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return minutes + ":" + (secs < 10 ? "0" : "") + secs;
        }

        function createPlaylistItem(track, index, clickHandler) {
            const li = document.createElement("li");

            const titleWrapper = document.createElement("span");
            const iconSpan = document.createElement("span");
            iconSpan.className = "play-icon";
            iconSpan.textContent = "▷ ";
            titleWrapper.appendChild(iconSpan);
            const titleText = document.createTextNode((index + 1) + ". " + track.title);
            titleWrapper.appendChild(titleText);
            li.appendChild(titleWrapper);


            const durationSpan = document.createElement("span");
            durationSpan.textContent = track.duration;
            durationSpan.style.color = "#666";
            durationSpan.style.fontSize = "0.9em";
            li.appendChild(durationSpan);

            const downloadLink = document.createElement("a");
            downloadLink.href = track.src;
            downloadLink.download = "";
            downloadLink.textContent = "Download";
            downloadLink.className = "download-link";
            downloadLink.addEventListener("click", e => e.stopPropagation());
            li.appendChild(downloadLink);

            li.addEventListener("click", clickHandler);


            if (window.innerWidth > 768) {
                li.addEventListener("mouseenter", () => {
                    updateStageContent(index);
                });

                li.addEventListener("mouseleave", () => {
                    updateStageContent(currentTrack);
                });
            }

            return li;
        }

        function generatePlaylist() {
            mainTracks.forEach((track, index) => {
                const li = createPlaylistItem(track, index, () => {
                    loadTrack(index);
                    playTrack();
                });
                playlistList.appendChild(li);
            });
        }

        playPauseBtn.addEventListener("click", () => {
            if (audioPlayer.paused) {
                playTrack();
            } else {
                pauseTrack();
            }
        });

        document.getElementById("nextBtn").addEventListener("click", nextTrack);
        document.getElementById("prevBtn").addEventListener("click", prevTrack);

        audioPlayer.addEventListener("ended", () => {
            releaseWakeLock();
            if (currentTrack < mainTracks.length - 1) {
                const nextIndex = (currentTrack + 1) % mainTracks.length;
                loadTrack(nextIndex);
                playTrack();
            } else {
                pauseTrack();
                audioPlayer.currentTime = 0;
            }
        });

        audioPlayer.addEventListener("timeupdate", () => {
            if (audioPlayer.duration) {
                const progressPercent = (audioPlayer.currentTime / audioPlayer.duration) * 100;
                progressBar.style.width = progressPercent + "%";
                timeDisplay.textContent = formatTime(audioPlayer.currentTime) + " / " + formatTime(audioPlayer.duration);
            }
        });

        progressContainer.addEventListener("click", function (e) {
            const width = this.clientWidth;
            const clickX = e.offsetX;
            const duration = audioPlayer.duration;
            if (duration) {
                audioPlayer.currentTime = (clickX / width) * duration;
            }
        });

        document.addEventListener('visibilitychange', () => {
            if (wakeLock !== null && document.visibilityState === 'hidden') {
                releaseWakeLock();
            } else if (!audioPlayer.paused && document.visibilityState === 'visible') {
                requestWakeLock();
            }
        });

        generatePlaylist();
        audioPlayer.src = mainTracks[0].src;

        updateStageContent(0);
    </script>
</body>

</html>