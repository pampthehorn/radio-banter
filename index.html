<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, maximum-scale=1.0, user-scalable=yes" />
    <title>Radio Banter - Whipstaff Manor Sessions</title>
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="Radio Banter" />
    <link rel="manifest" href="/site.webmanifest" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Frank+Ruhl+Libre:wght@300..900&display=swap" rel="stylesheet">

    <style>
        body {
            background-color: #ffffff;
            color: #000000;
            font-family: "Frank Ruhl Libre", "Frank Ruehl CLM", serif;
            margin: 0;
            padding: 20px 0;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            min-height: 100vh;
        }

        .content-wrapper {
            width: 95%;
            max-width: 1000px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        /* --- SPLIT STAGE LAYOUT --- */
        .split-stage {
            display: flex;
            flex-direction: column;
            width: 100%;
            border: none;
            border-radius: 8px;
            overflow: hidden;
            background-color: #fff;
            margin-bottom: 20px;
        }

        .stage-panel {
            flex: 1;
            padding: 0;
            position: relative;
            /* Changed min-height to auto for mobile to prevent huge gaps if content is short */
            min-height: auto;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
        }

        .stage-left {
            border-bottom: none;
            justify-content: center;
            /* Ensure the image container has some height on mobile */
            min-height: 300px;
        }

        .stage-right {
            background-color: #fff;
            /* UPDATED: Default (Mobile) behavior is to let content grow. 
               No max-height, No overflow-y here. */
            height: auto;
            overflow: visible;
        }

        @media (min-width: 768px) {
            .split-stage {
                flex-direction: row;
                align-items: stretch;
            }

            .stage-panel {
                /* Restore min-height for desktop columns */
                min-height: 300px;
            }

            .stage-left {
                border-bottom: none;
                border-right: none;
                width: 50%;
            }

            .stage-right {
                width: 50%;
                /* UPDATED: Only apply scrollbar constraints on Desktop */
                overflow-y: auto;
                max-height: 600px;
            }
        }

        /* Image Styling within Panels */
        .panel-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            display: block;
            /* prevent image from collapsing */
            min-height: 300px;
        }

        /* Text Content Styling within Right Panel */
        .text-content-wrapper {
            padding: 40px;
            text-align: center;
            width: 100%;
            box-sizing: border-box;
            margin: auto;
        }

        .text-content-wrapper h2 {
            margin-top: 0;
        }

        .text-content-wrapper p {
            line-height: 1.6;
            margin-bottom: 1.5em;
        }

        .hidden {
            display: none !important;
        }

        /* --- PLAYER CONTROLS --- */
        .player-controls-container {
            width: 100%;
            border: none;
            border-radius: 8px;
            padding: 15px;
            box-sizing: border-box;
            text-align: center;
        }

        .controls {
            margin: 10px 0;
        }

        button {
            background-color: silver;
            border: none;
            color: #000000;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
        }

        button:hover {
            background-color: #000000;
            color: #ffffff;
        }

        .progress-wrapper {
            margin: 15px 0;
        }

        .progress-container {
            background: #e0e0e0;
            cursor: pointer;
            height: 8px;
            border-radius: 4px;
            position: relative;
        }

        .progress-bar {
            background: #000000;
            height: 100%;
            width: 0%;
            border-radius: 4px;
        }

        .time-display {
            font-size: 12px;
            margin-top: 5px;
        }

        /* --- PLAYLIST STYLES --- */
        .playlist {
            text-align: left;
            background-color: #ffffff;
            border: none;
            border-radius: 4px;
            padding: 10px;
            width: 100%;
            box-sizing: border-box;
        }

        .playlist ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
        }

        .playlist li {
            padding: 8px;
            cursor: pointer;
            border-bottom: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .playlist li:last-child {
            border-bottom: none;
        }

        .playlist li:hover,
        .playlist li.active {
            background-color: #f0f0f0;
        }

        .download-link {
            font-size: 12px;
            color: #000000;
            text-decoration: underline;
            margin-left: 10px;
        }

        /* --- MERCH & FOOTER --- */
        .full-width-image {
            width: 100%;
            height: auto;
            display: block;
            border: none;
            border-radius: 8px;
        }

        a {
            color: inherit;
        }
    </style>
</head>

<body>
    <div class="content-wrapper">

        <div class="split-stage">
            <div class="stage-panel stage-left">
                <img src="lily/band-cover.jpg" alt="Album Cover" class="panel-image">
            </div>

            <div class="stage-panel stage-right">
                <div id="introContent" class="text-content-wrapper">
                    <h1 style="display:none">Radio Banter</h1>
                    <img src="RadioBanterCDText.png" style="max-width:100%;width:120px">
                    <p>
                        10 track CD with cardboard wallet and lyric booklet illustrated by <a
                            href='https://www.instagram.com/painepoetry/' target="_blank">Lily Paine</a> available
                        for preorder for £5.00 (+£3 UK postage)
                    </p>

                    <form method="post" action="https://www.paypal.com/cgi-bin/webscr" class="paypal-button"
                        target="_blank">
                        <input name="business" type="hidden" value="pampthehorn@gmail.com">
                        <input name="cmd" type="hidden" value="_xclick">
                        <input name="item_name" type="hidden" value="Radio Banter - album CD">
                        <input name="amount" type="hidden" value="5.00">
                        <input name="currency_code" type="hidden" value="GBP">
                        <input name="shipping" type="hidden" value="3.00">
                        <input name="return" type="hidden" value="https://radiobanter.net">
                        <input type="image" name="submit"
                            src="https://www.paypalobjects.com/webstatic/en_US/i/btn/png/btn_buynow_107x26.png"
                            alt="Buy Now">
                        <img alt="" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1"
                            border="0">
                    </form>
                    <p>
                        Engineired, mixed and mastered by Chris White (Nightshift) at Pillar Studio, Glasgow Southside.
                    </p>
                    <p>
                        Please join us in celebration on Thursday 8th January at Sharmanka Puppet Theatre, Trongate,
                        Glasgow; we perform with our friends The Chop. Tickets available soon.
                    </p>
                    <p><a href="/cdn-cgi/l/email-protection#95e7f4f1fcfaf7f4fbe1f0e7fbf0e1d5f2f8f4fcf9bbf6faf8"><span
                                class="__cf_email__"
                                data-cfemail="b0c2d1d4d9dfd2d1dec4d5c2ded5c4f0d7ddd1d9dc9ed3dfdd">[email&#160;protected]</span></a>
                    </p>

                </div>
            </div>
        </div>

        <div id="dynamicStage" class="split-stage hidden">
            <div class="stage-panel stage-left">
                <img src="" alt="Track Artwork" id="trackArtImage" class="panel-image">
            </div>

            <div class="stage-panel stage-right" id="lyricsPanelScroll">

                <div id="lyricsContent" class="text-content-wrapper">
                    <div id="dynamicLyricsTitle"></div>
                    <div id="dynamicLyricsBody"></div>
                </div>

                <img src="" alt="Secondary Artwork" id="secondaryImage" class="panel-image hidden">
            </div>
        </div>

        <div class="player-controls-container">
            <div class="track-info" id="trackTitle"></div>

            <div class="controls">
                <button id="prevBtn">Prev</button>
                <button id="playPauseBtn">Play</button>
                <button id="nextBtn">Next</button>
            </div>

            <div class="progress-wrapper">
                <div class="progress-container" id="progressContainer">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <div class="time-display" id="timeDisplay">0:00 / 0:00</div>
            </div>
        </div>

        <div class="playlist" id="playlist">
            <ul id="playlistList"></ul>
        </div>

        <audio id="audioPlayer"></audio>

        <div style="display:none;">
            <div id="raw-lyrics-nature-nurture">
                <p>is it nature is it nurture<br>this funky feeling that funky beat<br>is it nature or is it
                    nurture<br>the reason for this rhythm in my feet<br>is it nature or is it nurture<br>people are so
                    angry in the street<br>is it nature or is it nurture<br>people are just voting with their feet</p>
                <p>don't be rude, don't be rude</p>
                <p>is it nature or is it nurture<br>to argue with your mother's point of view<br>is it nature or is it
                    nurture<br>to read beyond the headlines of the news</p>
                <p>part of me felt we done too much<br>part of me felt we never done enough</p>
            </div>
            <div id="raw-lyrics-growing-in-love">
                <p>Oh no what to do<br>i've gone and grown feelings for you<br>i'm gonna have to<br>water them now, keep
                    them fed<br>pull the weeds from, from their bed<br>give them sunshine, give them shade<br>use a
                    trowel, use a spade</p>
                <p>aw man it's every day<br>put my shoes on<br>and it starts to rain<br>let's see how it looks in an
                    hour</p>
                <p>it's not always<br>the shoots will find their way<br>it's not always<br>the shrubs will see the day
                </p>
                <p>oh no what to do<br>i've grown in love with you</p>
            </div>
            <div id="raw-lyrics-harsh-but-fair">
                <p>people tell me<br>because of my age<br>i should reign it in<br>i should pare it back<br>people tell
                    me people tell me people tell me</p>
                <p>to look out of the window<br>and what do you see<br>the war is still raging<br>there'll never be
                    peace</p>
            </div>
            <div id="raw-lyrics-richmond">
                <p>if we don't come off the gas that we emit<br>and all we do are these carbon offsets<br>is that really
                    us playing our part<br>is it wise to be so smart<br>if we don't just stop oil<br>the whole sea's
                    gang come to a boil<br>there'll be mammals washed up on our shores<br>children seeking refuge at our
                    doors<br>and they'll be asking why do we only get our bit<br>once you've taken all the good things
                    out of it</p>
                <p>if we don't stop ourselves<br>we don't leave anybody else<br>the chance to<br>the opportunity<br>not
                    to</p>
            </div>
            <div id="raw-lyrics-end-of-an-era">
                <p>oops nope well that’s unfortch’<br>i forgot to pack the propane torch<br>do you need a good bag from
                    the bakery<br>before telling us your tales of bravery<br>stories of old from oh so many years
                    ago<br>isn’t hindsight a wonderful thing<br>when one has found one’s flow</p>
                <p>the realms in which we are being<br>sometimes seeing is believing<br>yet, how can one quell this
                    emotional swell?<br>please pass the magic potion,<br>we can cancel out the spell<br>only time will
                    really tell<br>could this be<br>the end of an era?</p>
            </div>
            <div id="raw-lyrics-ghostie">
                <p>the moon lit a bed of freshly fell snow<br>my family slept as i made them soup by the
                    stove<br>someone's knockin on my door</p>
                <p>out there's a young man wearing old man's clothes<br>he says he lives here and my love is his<br>i
                    send him walking in the snow man</p>
                <p>i can't sleep so i go back outside<br>where did he come from, which way did he go<br>there are no
                    footprints in the snow</p>
            </div>
            <div id="raw-lyrics-doctor">
                <p>i feel so lazy doctor can you diagnose why<br>i'll sing anything i got til it gets me a line</p>
                <p>i feel so crazy lately are you loving me why<br>i'll do anything for you papa you gave me my life</p>
                <p>oh my god i am so tired<br>even though i have slept for 12 hours<br>often that is just what
                    happens<br>you oversleep and it makes you more tired<br>you oversleep and it makes you more tired
                </p>
                <p>jesus christ i am so hungry<br>gonna go home now i've spent all my money</p>
            </div>
            <div id="raw-lyrics-instrumental">
            </div>
            <div id="raw-lyrics-the-groove">
                <p>you've got to get in to the groove<br>that's the whole point of this song<br>this song is so
                    groovy<br>they're making it in to a movie</p>
                <p>so when i die<br>there will be stars<br>in the sky<br>when i die<br>you've got to get in to the
                    groove</p>
            </div>
            <div id="raw-lyrics-financial-crash">
                <p>it's all my fault<br>i took the decision<br>it's all because of me<br>it's my responsibility</p>
                <p>i need some inspiration<br>to make a meal<br>is there any point though<br>when all you want's a pie
                </p>
            </div>
        </div>



        <p><strong>Radio Banter</strong> are <br /> Chris Wallace (drums / vocals), <br />Sephi Lock (bass guitar),
            <br />Rob Alexander (electric piano / vocals)
        </p>

        <img src="../ril_live_shot.jpg" alt="Radio Banter Live" class="full-width-image">

        <p>Photograph by <a href='https://www.instagram.com/remain_in_light_/' target="_blank">Baz</a></p>



    </div>
    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
    <script>
        const mainTracks = [
            { title: "Nature Nurture", src: "20250823masters/01 Nature Nurture.mp3", image: "lily/naturenurture.jpg", lyricsId: "raw-lyrics-nature-nurture" },
            { title: "Growing in Love", src: "20250823masters/02 Growing in Love.mp3", image: "lily/growinginlove1.jpg", lyricsId: "raw-lyrics-growing-in-love" },
            { title: "Harsh but Fair", src: "20250823masters/03 Harsh but Fair.mp3", image: "lily/harshbutfair.jpg", lyricsId: "raw-lyrics-harsh-but-fair" },
            { title: "Richmond", src: "20250823masters/04 Richmond.mp3", image: "lily/richmond.jpg", lyricsId: "raw-lyrics-richmond" },
            { title: "End of an Era", src: "20250823masters/05 End of an Era.mp3", image: "lily/endofanera.jpg", lyricsId: "raw-lyrics-end-of-an-era" },
            { title: "Ghostie", src: "20250823masters/06 Ghosty.mp3", image: "lily/ghostie.jpg", lyricsId: "raw-lyrics-ghostie" },
            { title: "Doctor", src: "20250823masters/07 Doctor.mp3", image: "lily/doctor.jpg", lyricsId: "raw-lyrics-doctor" },
            { title: "Instrumental", src: "20250823masters/08 Instrumental.mp3", image: "lily/instrumental1.jpg", lyricsId: "raw-lyrics-instrumental" },
            { title: "The Groove", src: "20250823masters/09 The Groove.mp3", image: "lily/thegroove.jpg", lyricsId: "raw-lyrics-the-groove" },
            { title: "Financial Crash", src: "20250823masters/10 Financial Crash.mp3", image: "lily/financialcrash.jpg", lyricsId: "raw-lyrics-financial-crash" }
        ];

        // --- STATE VARIABLES ---
        let currentTrack = 0;
        let isIntroMode = true; // Tracks if we are showing the welcome text or the player/lyrics
        let wakeLock = null;

        // --- DOM ELEMENTS ---
        const audioPlayer = document.getElementById("audioPlayer");
        const playPauseBtn = document.getElementById("playPauseBtn");
        const playlistList = document.getElementById("playlistList");
        const progressBar = document.getElementById("progressBar");
        const progressContainer = document.getElementById("progressContainer");
        const timeDisplay = document.getElementById("timeDisplay");
        const trackTitleDisplay = document.getElementById("trackTitle");

        // Stage Elements (Dynamic Section only)
        const dynamicStage = document.getElementById("dynamicStage");
        const trackArtImage = document.getElementById("trackArtImage"); // Left Panel of Dynamic Stage

        const lyricsPanelScroll = document.getElementById("lyricsPanelScroll"); // Right Panel Container
        const lyricsContent = document.getElementById("lyricsContent");
        const secondaryImage = document.getElementById("secondaryImage");

        const dynamicLyricsTitle = document.getElementById("dynamicLyricsTitle");
        const dynamicLyricsBody = document.getElementById("dynamicLyricsBody");

        // --- WAKE LOCK FUNCTIONS ---
        async function requestWakeLock() {
            if ('wakeLock' in navigator) {
                try {
                    wakeLock = await navigator.wakeLock.request('screen');
                } catch (err) {
                    console.error(`${err.name}, ${err.message}`);
                }
            }
        }

        function releaseWakeLock() {
            if (wakeLock) {
                wakeLock.release().then(() => { wakeLock = null; });
            }
        }

        // --- UI UPDATE FUNCTION ---
        function switchModeToPlayer() {
            if (isIntroMode) {
                isIntroMode = false;
                // Reveal the 2nd stage (Image + Lyrics)
                dynamicStage.classList.remove("hidden");
                // Note: We do NOT hide the Top Stage (Cover + Buy text) anymore
                updateStageContent();
                playPauseBtn.textContent = "Play";
            }
        }

        function updateStageContent() {
            const track = mainTracks[currentTrack];

            // 1. Update Left Panel of DYNAMIC Stage
            if (track.title === "Instrumental") {
                trackArtImage.src = "lily/instrumental1.jpg";
            } else {
                trackArtImage.src = track.image;
            }

            // 2. Update Right Panel of DYNAMIC Stage
            if (!isIntroMode) {
                if (track.title === "Instrumental") {
                    // INSTRUMENTAL MODE: Show 2nd Image, Hide Lyrics
                    lyricsContent.classList.add("hidden");
                    secondaryImage.classList.remove("hidden");
                    secondaryImage.src = "lily/instrumental2.jpg";
                } else {
                    // STANDARD MODE: Show Lyrics, Hide 2nd Image
                    secondaryImage.classList.add("hidden");
                    lyricsContent.classList.remove("hidden");

                    // Populate Lyrics
                    dynamicLyricsTitle.innerHTML = `<h2>${track.title}</h2>`;
                    const rawLyrics = document.getElementById(track.lyricsId);
                    if (rawLyrics) {
                        dynamicLyricsBody.innerHTML = rawLyrics.innerHTML;
                    } else {
                        dynamicLyricsBody.innerHTML = "<p>Lyrics not available.</p>";
                    }
                    // Reset scroll to top of lyrics panel
                    lyricsPanelScroll.scrollTop = 0;
                }
            }
        }

        function updatePlayerUI() {
            const isPlaying = !audioPlayer.paused;
            const track = mainTracks[currentTrack];

            trackTitleDisplay.textContent = (isPlaying ? '▶ ' : '▷ ') + 'Radio Banter - ' + track.title;

            // Update playlist icons
            const items = playlistList.getElementsByTagName("li");
            Array.from(items).forEach((item, index) => {
                const icon = item.querySelector(".play-icon");
                if (icon) {
                    if (index === currentTrack) {
                        item.classList.add("active");
                        icon.textContent = isPlaying ? "▶ " : "▷ ";
                    } else {
                        item.classList.remove("active");
                        icon.textContent = "▷ ";
                    }
                }
            });
        }

        // --- PLAYER & TRACK FUNCTIONS ---
        function nextTrack() {
            const wasPlaying = !audioPlayer.paused;
            const nextIndex = (currentTrack + 1) % mainTracks.length;

            if (isIntroMode) switchModeToPlayer();

            loadTrack(nextIndex);

            if (wasPlaying) {
                playTrack();
            }
        }

        function prevTrack() {
            const wasPlaying = !audioPlayer.paused;
            const prevIndex = (currentTrack - 1 + mainTracks.length) % mainTracks.length;

            if (isIntroMode) switchModeToPlayer();

            loadTrack(prevIndex);

            if (wasPlaying) {
                playTrack();
            }
        }

        function loadTrack(index) {
            if (index >= 0 && index < mainTracks.length) {
                currentTrack = index;
                const track = mainTracks[index];
                audioPlayer.src = track.src;

                // Update the visible stage (images/lyrics) immediately
                updateStageContent();

                audioPlayer.load();
                updatePlayerUI();
            }
        }

        function playTrack() {
            // First time play clicked? Switch UI
            if (isIntroMode) {
                switchModeToPlayer();
            }

            audioPlayer.play();
            playPauseBtn.textContent = "Pause";
            requestWakeLock();
            updatePlayerUI();
        }

        function pauseTrack() {
            audioPlayer.pause();
            playPauseBtn.textContent = "Play";
            releaseWakeLock();
            updatePlayerUI();
        }

        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return minutes + ":" + (secs < 10 ? "0" : "") + secs;
        }

        // --- PLAYLIST GENERATION ---
        function createPlaylistItem(track, index, clickHandler) {
            const li = document.createElement("li");

            const titleWrapper = document.createElement("span");
            const iconSpan = document.createElement("span");
            iconSpan.className = "play-icon";
            iconSpan.textContent = "▷ ";
            titleWrapper.appendChild(iconSpan);
            const titleText = document.createTextNode((index + 1) + ". " + track.title);
            titleWrapper.appendChild(titleText);
            li.appendChild(titleWrapper);

            const downloadLink = document.createElement("a");
            downloadLink.href = track.src;
            downloadLink.download = "";
            downloadLink.textContent = "Download";
            downloadLink.className = "download-link";
            downloadLink.addEventListener("click", e => e.stopPropagation());
            li.appendChild(downloadLink);

            li.addEventListener("click", clickHandler);
            return li;
        }

        function generatePlaylist() {
            mainTracks.forEach((track, index) => {
                const li = createPlaylistItem(track, index, () => {
                    loadTrack(index);
                    playTrack();
                });
                playlistList.appendChild(li);
            });
        }

        // --- EVENT LISTENERS ---
        playPauseBtn.addEventListener("click", () => {
            if (audioPlayer.paused) {
                playTrack();
            } else {
                pauseTrack();
            }
        });

        document.getElementById("nextBtn").addEventListener("click", nextTrack);
        document.getElementById("prevBtn").addEventListener("click", prevTrack);

        audioPlayer.addEventListener("ended", () => {
            releaseWakeLock();
            if (currentTrack < mainTracks.length - 1) {
                const nextIndex = (currentTrack + 1) % mainTracks.length;
                loadTrack(nextIndex);
                playTrack();
            } else {
                pauseTrack();
                audioPlayer.currentTime = 0;
            }
        });

        audioPlayer.addEventListener("timeupdate", () => {
            if (audioPlayer.duration) {
                const progressPercent = (audioPlayer.currentTime / audioPlayer.duration) * 100;
                progressBar.style.width = progressPercent + "%";
                timeDisplay.textContent = formatTime(audioPlayer.currentTime) + " / " + formatTime(audioPlayer.duration);
            }
        });

        progressContainer.addEventListener("click", function (e) {
            const width = this.clientWidth;
            const clickX = e.offsetX;
            const duration = audioPlayer.duration;
            if (duration) {
                audioPlayer.currentTime = (clickX / width) * duration;
            }
        });

        document.addEventListener('visibilitychange', () => {
            if (wakeLock !== null && document.visibilityState === 'hidden') {
                releaseWakeLock();
            } else if (!audioPlayer.paused && document.visibilityState === 'visible') {
                requestWakeLock();
            }
        });

        // --- INITIALIZATION ---
        generatePlaylist();
        audioPlayer.src = mainTracks[0].src;
    </script>
</body>

</html>